# طراحی و پیاده‌سازی سامانه (DoH (HTTPS over DNS با قابلیت مدیریت رکوردهای DNS

## هدف پروژه
هدف از این پروژه، آشنایی با مفاهیم DNS، طراحی وب‌سرویس‌ها، و کار با داده‌های ساختارمند است. دانشجو باید سامانه‌ای طراحی کند که بتواند درخواست‌های DNS را از طریق HTTP یا HTTPS دریافت کرده و پاسخ مناسب تولید کند.

---

## امکانات پیاده‌سازی شده

### 1. بخش سرور DNS
- دریافت درخواست‌های DNS روی پورت مشخص (53 در نسخه نهایی، قابل تغییر به 8053).  
- پشتیبانی از UDP برای پردازش درخواست‌ها.  
- پاسخ‌دهی مطابق ساختار استاندارد DNS با پردازش انواع رکوردها: **A, NS, CNAME, MX**.

### 2. DNS over HTTPS (DoH)
- مسیر وبی `/query-dns/` برای دریافت درخواست‌های DoH ایجاد شده است.  
- پشتیبانی از روش‌های **GET** و **POST**.  
- داده‌ها می‌توانند در قالب **JSON** ارسال و دریافت شوند.

### 3. مدیریت رکوردها
- امکان افزودن، حذف و ویرایش رکوردها از طریق **رابط کاربری گرافیکی (GUI Web)** فراهم شده است.  
- رکوردها در **SQLite** ذخیره می‌شوند و شامل اطلاعات:  
  • نام دامنه  
  • نوع رکورد (A, NS, CNAME, MX)  
  • مقدار رکورد (IP یا نام دامنه)  
  • TTL (زمان اعتبار)  
  • اولویت (برای رکورد MX)

### 4. ارتباط با DNS های بالادستی
- در صورت نبود رکورد در کش یا دیتابیس، درخواست به سرورهای عمومی (مثل 8.8.8.8) ارسال و پاسخ دریافت شده به کاربر بازگردانده می‌شود.  
- پاسخ‌ها در کش و دیتابیس ذخیره می‌شوند تا در درخواست‌های بعدی سریع‌تر پاسخ داده شوند.

### 5. بخش امتیازی
- **Cache:** پیاده‌سازی شده و نتایج درخواست‌ها برای کاهش زمان پاسخ ذخیره می‌شوند.  
- **Log:** ثبت درخواست‌ها و پاسخ‌ها به دیتابیس انجام می‌شود.  
- **GUI:** رابط گرافیکی ساده برای مدیریت رکوردها طراحی شده است.  
- **CLI برای تست DoH:** امکان تست از طریق ابزارهای خط فرمان فراهم شده است.

---

## جمع‌بندی
پروژه امکانات اصلی مورد انتظار استاد را برآورده کرده و قابلیت توسعه برای امکانات اختیاری (مانند رکوردهای TXT و PTR، احراز هویت مدیر و HTTPS کامل) نیز وجود دارد. سامانه توانایی مدیریت رکوردها، پاسخ‌دهی DNS و DoH، کش، ثبت لاگ و رابط کاربری گرافیکی را دارد و آماده استفاده و توسعه بیشتر است.

---

## نحوه اجرا کردن پروژه

### 1. پیش‌نیازها
- نصب **Python 3.9+**  
- نصب پکیج‌های مورد نیاز با دستور:  
  ```bash
  pip install -r requirements.txt
